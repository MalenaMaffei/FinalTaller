#include "Header Files/PaqueteReceiver.h"
#include <string>
#include <chrono>
PaqueteReceiver::PaqueteReceiver(const Socket &socket, ColaPaquetes &cola)
    : PaqueteDelivery(socket, cola) {}

void PaqueteReceiver::run() {
    while (!salir){

        Paquete color;
        color.setMensaje("60");
        cola.encolar(color);
        Paquete mapa;
        mapa.setMensaje
            ("50000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333000000000011111111112222222222333333333300000000001111111111222222222233333333330123012301333333333300000000001111111111222222222233333333330000000000111111111122222222223333333333012301230133333333330000000000111111111122222222223333333333000000000011111111112222222222333333333301230123013333333333");
        cola.encolar(mapa);

        int espera = 200;

        Paquete fabrica;
        fabrica.setMensaje("00010010000100052");
        cola.encolar(fabrica);
        fabrica.setMensaje("00020050000500041");
        cola.encolar(fabrica);
        std::this_thread::sleep_for(std::chrono::milliseconds(espera));
        std::this_thread::sleep_for(std::chrono::milliseconds(espera));
        std::this_thread::sleep_for(std::chrono::milliseconds(espera*8));

        fabrica.setMensaje("1001");
        cola.encolar(fabrica);
        fabrica.setMensaje("1002");
        cola.encolar(fabrica);
//
//        Paquete fuerte;
//        fuerte.setMensaje("00030010000100030");
//        cola.encolar(fuerte);
//        Paquete infoFuerte;
//        std::this_thread::sleep_for(std::chrono::milliseconds(espera));
//        std::this_thread::sleep_for(std::chrono::milliseconds(espera));
//        std::this_thread::sleep_for(std::chrono::milliseconds(espera*8));
//        printf("listo para recibir\n");
//        infoFuerte.setMensaje("70030599902090100101400109010");
//        cola.encolar(infoFuerte);
//
//        std::this_thread::sleep_for(std::chrono::milliseconds(espera));
////        fuerte.setMensaje("1003");
////        cola.encolar(fuerte);
////
////        Paquete infoFuerte;
////        infoFuerte.setMensaje("70010399902090100101400109010");
////        PaqueteFabrica infoFabrica(infoFuerte.getMensaje());
////
////
////        std::this_thread::sleep_for(std::chrono::milliseconds(espera*8));
////        cola.encolar(infoFuerte);
////        printf("se envio el paquete de info\n");
//
        salir = true;

//        string mensaje;
//        mensaje = socket.ReceiveStrWLen();
//		printf("paquete recibido: %s\n", mensaje.c_str());
//        Paquete paquete;
//        paquete.setMensaje(mensaje);
//        cola.encolar(paquete);
    }
}
